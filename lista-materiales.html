<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Listas de Materiales - Marketplace</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            color: #333;
        }
        
        .header {
            background: #2c3e50;
            color: white;
            padding: 1rem 2rem;
        }
        
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 2rem;
        }
        
        .lists-section {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background 0.3s;
        }
        
        .btn-primary {
            background: #3498db;
            color: white;
        }
        
        .btn-primary:hover {
            background: #2980b9;
        }
        
        .list-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        
        .list-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 1.5rem;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .list-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .list-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #2c3e50;
        }
        
        .list-info {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 1rem;
        }
        
        .list-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .btn-small {
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .btn-secondary {
            background: #95a5a6;
            color: white;
        }
        
        .btn-success {
            background: #27ae60;
            color: white;
        }
        
        .list-detail {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: none;
        }
        
        .list-detail.active {
            display: block;
        }
        
        .list-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #ecf0f1;
        }
        
        .nav-actions {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .nav-btn {
            padding: 0.5rem 1rem;
            background: #ecf0f1;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            text-decoration: none;
            color: #333;
            display: inline-block;
        }
        
        /* Responsive Styles */
        @media (max-width: 768px) {
            .header {
                padding: 1rem;
            }
            
            .container {
                padding: 0 1rem;
                margin: 1rem auto;
            }
            
            .lists-section {
                padding: 1rem;
            }
            
            .section-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
            
            .list-grid {
                grid-template-columns: 1fr;
            }
            
            .list-detail {
                padding: 1rem;
            }
            
            .list-actions {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
        }
        
        @media (max-width: 480px) {
            .list-card {
                padding: 1rem;
            }
            
            .list-title {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üèóÔ∏è Marketplace de Materiales</h1>
    </div>
    
    <div class="container">
        <div class="nav-actions">
            <a href="index.html" class="nav-btn">‚Üê Volver a B√∫squeda</a>
        </div>
        
        <div class="lists-section">
            <div class="section-header">
                <h2>Mis Listas de Materiales</h2>
                <button class="btn btn-primary" onclick="crearLista()">+ Crear Nueva Lista</button>
            </div>
            
            <div class="list-grid" id="listGrid">
                <!-- Listas se cargar√°n aqu√≠ -->
            </div>
        </div>
        
        <div class="list-detail" id="listDetail">
            <h2 id="detailTitle">Lista de Materiales</h2>
            <div id="listItems">
                <!-- Items de la lista se cargar√°n aqu√≠ -->
            </div>
            <div class="list-actions" style="margin-top: 1rem;">
                <button class="btn btn-success" onclick="convertirACotizacion()">Convertir a Cotizaci√≥n</button>
                <button class="btn btn-primary" onclick="agregarAlCarrito()">Agregar Todo al Carrito</button>
                <button class="btn btn-secondary" onclick="cerrarDetalle()">Cerrar</button>
            </div>
        </div>
    </div>
    
    <script>
        // Datos de ejemplo de listas
        const listas = [
            {
                id: 1,
                nombre: "Obra San Mart√≠n - Fase 1",
                fechaCreacion: "15/01/2024",
                items: 12,
                total: 450000
            },
            {
                id: 2,
                nombre: "Remodelaci√≥n Cocina",
                fechaCreacion: "10/01/2024",
                items: 8,
                total: 280000
            },
            {
                id: 3,
                nombre: "Proyecto Edificio Centro",
                fechaCreacion: "05/01/2024",
                items: 25,
                total: 1200000
            }
        ];
        
        const listaDetalle = {
            1: [
                { nombre: "Cemento Portland 50kg", cantidad: 20, precio: 8500 },
                { nombre: "Ladrillos Fiscales x1000", cantidad: 5, precio: 45000 },
                { nombre: "Arena Gruesa m¬≥", cantidad: 3, precio: 25000 }
            ]
        };
        
        function renderListas() {
            const grid = document.getElementById('listGrid');
            grid.innerHTML = listas.map(lista => `
                <div class="list-card" onclick="verLista(${lista.id})">
                    <div class="list-title">${lista.nombre}</div>
                    <div class="list-info">
                        üìÖ Creada: ${lista.fechaCreacion}<br>
                        üì¶ ${lista.items} items<br>
                        üí∞ Total estimado: $${lista.total.toLocaleString()}
                    </div>
                    <div class="list-actions">
                        <button class="btn-small btn-primary" onclick="event.stopPropagation(); verLista(${lista.id})">Ver</button>
                        <button class="btn-small btn-success" onclick="event.stopPropagation(); convertirACotizacion(${lista.id})">Cotizar</button>
                    </div>
                </div>
            `).join('');
        }
        
        function verLista(id) {
            const lista = listas.find(l => l.id === id);
            const items = listaDetalle[id] || [];
            
            document.getElementById('detailTitle').textContent = lista.nombre;
            document.getElementById('listItems').innerHTML = items.map(item => `
                <div class="list-item">
                    <div>
                        <strong>${item.nombre}</strong><br>
                        <small>Cantidad: ${item.cantidad} ‚Ä¢ Precio unitario: $${item.precio.toLocaleString()}</small>
                    </div>
                    <div>
                        <strong>$${(item.cantidad * item.precio).toLocaleString()}</strong>
                    </div>
                </div>
            `).join('');
            
            document.getElementById('listDetail').classList.add('active');
        }
        
        function cerrarDetalle() {
            document.getElementById('listDetail').classList.remove('active');
        }
        
        function crearLista() {
            alert('Funcionalidad: Crear nueva lista de materiales');
        }
        
        function convertirACotizacion(id) {
            alert(`Funcionalidad: Convertir lista ${id} a cotizaci√≥n con validez`);
        }
        
        function agregarAlCarrito() {
            alert('Funcionalidad: Agregar todos los items de la lista al carrito');
            window.location.href = 'carrito.html';
        }
        
        // Cargar listas iniciales
        renderListas();
    </script>
</body>
</html>

